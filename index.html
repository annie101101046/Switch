<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>選項開關元件</title>
    <style type="text/css">
        .switch {
            background-color: #cccccc;
            width: 60px;
            height: 30px;
            border-radius: 15px;
        }

        .switch>.btn {
            background-color: #444444;
            width: 30px;
            height: 30px;
            border-radius: 15px;
        }

        .switch-on {
            background-color: #aaffaa;
        }

        .switch-on>.btn {
            background-color: #006600;
            margin-left: 30px;
        }
    </style>

    <!-- 準備好 react & babel 編譯器 -->
    <script src="https://unpkg.com/react@15/dist/react.min.js"></script>
    <script src="https://unpkg.com/react-dom@15/dist/react-dom.min.js"></script>
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
    <script type="text/babel">

        class Switch extends React.Component{
        // 處理狀態 
        //component 的建構式中先初始化狀態
            constructor(props){
                super(props);
                this.state={on:false};
            }

        // 畫好 switch 圖跟 button
            render(){
                //根據狀態調整畫面
                let className="switch";
                if(this.state.on){
                    className+=" switch-on";
                }
                //classname 動態套用
                //事件處理
                return <div onClick={this.update.bind(this)} className={className}>
                    <div className="btn"></div>
                </div>;
            }
            //事件處理狀態更新
            update(){
                this.setState((currentState)=>({on:!currentState.on}));
            }
        }

        window.addEventListener("load",()=>{
            ReactDOM.render(<Switch/>, document.getElementById("switch-0"));
            ReactDOM.render(<Switch/>, document.getElementById("switch-1"));

        });
</script>
</head>

<body>
    <div id="switch-0"></div>
    <hr />
    <div id="switch-1"></div>

</body>

</html>